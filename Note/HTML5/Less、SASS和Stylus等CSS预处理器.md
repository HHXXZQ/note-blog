# Less、SASS和Stylus等CSS预处理器

## Less

### [运行环境](http://lesscss.org/)

#### 浏览器环境

1. 下载并引入`less.js`文件，[下载地址](http://lesscss.org/usage/)；填入对应页面：`<link rel="stylesheet/less" type="text/css" href="styles.less" />`
2. 文档处填写`<script src="//cdn.jsdelivr.net/npm/less@3.13" ></script>`

#### Node环境下

1. `npm install -g less`
2. `lessc styles.less styles.css`

### 基础语法

#### 注释

1. 单行注释：`//`（**不参与预处理**）
2. 多行注释：`/* comment here*/`

#### 变量

##### 定义

`@变量名称: 变量赋值;`

##### 使用变量

`@变量名称;`

##### 变量赋值

`@变量B;@变量A`

##### 作用域

区分全局和局部作用域，局部作用域用`{}`区分，赋值遵循就近原则，后定义的覆盖先定义的，**注意：Less是延迟加载（提升）的，后定义的变量能在其之前进行使用**

##### 变量插值（了解）

`${变量名}`

#### 运算

可用于简单的加减乘除，和`CSS3`中的`calc`用法一致。

### 混合

#### mixin

将重复使用的代码封装到一个类中，在需要的地方调用封装的类即可。在`less`预处理时会将封装的代码自动拷贝到使用到的地方。

##### 注意

1. 封装的类名后添加括号`()`，在使用时也要添加括号`()`
2. 封装的类添加括号后，编译时将不会保留混合的类名

#### mixin 带参数

```less
.whc(@w:100px, @h:100px, @color: pink) {	// 形参冒号后的值为默认值
  width: @w;
  height: @h;
  color: @color;
}
// 使用 .whc 混合
.box1 {
  .whc(200px, 100px, #ff0000)
}
// 指定形参变量名称传递数据，其他采用默认数值
.box2 {
  .whc(@c: #eee)
}
```

#### 变长参数的mixin

`…`：三个点代表可变参数，可以传0个或多个参数；只能写在形参列表的最后

`@arguments`：传入的所有参数`mixin`

#### 形参混合的匹配模式

用于同一个样式的不同实现效果有要求的情形下，在混合的第一个参数传入特殊的字符串标记，需要特定样式的时候第一个参数选择需要样式的字符串标记进行实现。

#### 通用匹配模式

`@_;`

无论同名的哪一个混合模式被匹配了都会先执行通用匹配模式中的代码。**配合混合匹配模式进行使用，减少代码冗余**

#### 导入其他less文件

`@import "/path/to/other_less_file_name"`

**可省略文件后缀**

#### [内置函数](http://lesscss.cn/functions/)

略

#### 编写元素伪类、伪元素

`&:hover{}`：`&`：当前层级的元素，用于编写`伪类、伪元素`。

#### less 中的继承

`.son:extend(.parent){}`：

这样就能让子选择器即成福选择器中的样式。

**值得注意的是：继承是以并集选择器的形式描写样式，二混合则是采用复制粘贴的方式描写样式。**

#### less条件判断

less中可以通过`when`关键字给混合添加执行的限定条件，只有在条件为真时才会执行混合中的代码，`when`表达式中可以使用比较运算符`<`,`>`,**`<=,>=`**，**`=`**（等于）或检查函数进行判断。

##### 逻辑判断

条件之间添加逻辑判断符号

或：`,`

与：`and`

示例：

```less
.size(@width, @height) when ((ispixel(@width) and (@width > @height))
```

## Sass

企业开发推荐使用`.scss`

### 注释

SASS中的注释和LESS一样。

### 基础语法

#### 变量

SASS中定义变量： `$变量名称: 值;`

##### 要点

1. 后定义覆盖先定义
2. 可以把变量赋值给其它变量
3. 区分全局变量和局部变量(访问采用就近原则)
4. 非延迟加载，**只能先声明定义再使用（不同于less）**。

#### 变量插值

SASS插值格式: `#{$变量名称}`

#### 运算

支持`+`,` -`,` *`,` /` 运算；注意：**运算都需要包裹上()**

### 混合

SASS中混合定义: `@mixin 混合名称{}`; 或者` @mixin 混合名称(){}`;
SASS中混合调用: `@include 混合名称`; 或者` @include 混合名称()`;

#### 带参数混合

SASS中带参数的混合和LESS中也一样。

##### 带可变参数混合

必须通过 `$args…`的格式来定义可变参数, 然后通过`$args`来使用，同less一样，可变参数必定定义再参数列表最后一个。

#### 导入其他SASS文件

和LESS一样SASS文件中也支持导入其它SASS文件。

原生的CSS也支持通过`@import`导入其它的CSS文件, 只不过不常用。因为`@import`导入其它的CSS文件,
只有执行到@import时浏觅器才会去下载对应 css文件，导致请求次数变多，页面加载起来特别慢。

而LESS和SASS中的`@import`是直接将导入的文件拷贝到当前文件中生成一份CSS, 所以只会请求一次, 速度更快。

#### [内置函数(略)](https://www.sasscss.com/documentation/modules)

### 继承

#### 层级结构

和LESS一样支持嵌套, 默认情况下嵌套的结构会转换成后代选择器；和LESS一样也支持通过`&`符号不转换成后代选择器。

#### 继承

SASS中的继承和LESS中的继承一样, 都是通过并集选择器来实现的, 只不过SASS格式为：

```scss
.center {
  ...
}
.son {
  @extend .center;	// 继承自 .center 类
}
```

#### 条件判断

SASS中支持

1. `@if(条件语句){}`
2.  `@else if(条件语句){}`
3.   `@else(条件语句){}`
4. SASS中当条件不为false或者null时就会执行{}中的代码，和LESS一样SASS中的条件语句支持通过`> >= < <= ==`进行判断。

### 循环

SASS中支持两种循环, 分别是`for`循环和`while`循环

#### for

1. ` @for $i from 起始整数 through 结束整数{}`
2. `@for $i from 起始整数 to 结束整数{}`
3. 第一种格式左闭右闭，第二种格式左闭右开。

#### while

`while(条件语句){}`























